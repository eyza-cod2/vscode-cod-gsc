(()=>{"use strict";var e={687:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gsc=void 0;const i=n(209),o=n(323),r=n(796),a=n(519),s=n(367),c=n(684);t.Gsc=class{static async activate(e){i.GscFile.activate(e),a.GscDiagnosticsCollection.activate(e),r.GscSemanticTokensProvider.activate(e),o.GscCompletionItemProvider.activate(e),s.GscDefinitionProvider.activate(e),c.GscHoverProvider.activate(e)}}},323:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscCompletionItemProvider=void 0;const a=r(n(398)),s=n(209),c=n(758);class l{static async activate(e){e.subscriptions.push(a.languages.registerCompletionItemProvider("gsc",new l,"\\",".","[","]"))}async provideCompletionItems(e,t,n){const i=await s.GscFile.parseAndCacheFile(e.uri);return await l.getCompletionItems(i,t)}static async getCompletionItems(e,t,n=!1){const i=[],o=performance.now();var r=e.root.findGroupOnLeftAtPosition(t);if(void 0===r||void 0===r.parent)return i;const a=e.functions.find((e=>{const n=e.scopeRange;if((t.line===n.start.line&&t.character>n.start.character||t.line>n.start.line)&&(t.line===n.end.line&&t.character<n.end.character||t.line<n.end.line))return!0}));void 0!==a&&(r.type!==c.GroupType.Path&&this.createVariableItems(i,t,r,e,a.localVariableDefinitions,n),!1===n&&await this.createPathItems(i,t,r));const s=performance.now()-o;return console.log("CompletionProvider done, exec time: "+s+"ms"),i}static createVariableItems(e,t,n,i,o,r){const p=[];var d=n.getVariableStringBeforePosition(t);const u=""===d||n?.typeEqualsToOneOf(c.GroupType.VariableName,c.GroupType.Identifier),f=n?.type===c.GroupType.StructureField||"."===n?.getFirstToken().name,m=n?.type===c.GroupType.Array&&t.character<n.getRange().end.character||"["===d.at(-1),h=d.match(/\W/g),g=h?d.lastIndexOf(h[h.length-1]):-1;function y(e){const t=e.variableReference.getVariableParts();for(var n="",i=c.GscVariableDefinitionType.Unknown,o=a.CompletionItemKind.Variable,r="",s=0;s<t.length;s++){const c=t[s],l=s===t.length-1;if(n+=c.text,i=l?e.type:c.implicitType,o=c.kind,!d.startsWith(n)||l){n.startsWith(d)?(r=n.substring(g+1),m&&(!r.startsWith("[")&&r.endsWith("]")&&(r=r.substring(0,r.length-1)),o=a.CompletionItemKind.Value)):f?n="":m&&(r=t[0].text,i=1===t.length?e.type:t[0].implicitType,o=t[0].kind);break}}if(e.variableReference.getTokensAsString(),""===r)return;const l=p.find((e=>e.name===r));void 0!==l?(l.types.add(i),l.kind=o):p.push({name:r,detail:"",types:new Set([i]),kind:o})}f||!u&&!m||(p.push({name:"level",detail:"",types:new Set([c.GscVariableDefinitionType.Structure]),kind:a.CompletionItemKind.Variable}),p.push({name:"game",detail:"",types:new Set([c.GscVariableDefinitionType.Array]),kind:a.CompletionItemKind.Variable}),p.push({name:"self",detail:"",types:new Set([c.GscVariableDefinitionType.Unknown]),kind:a.CompletionItemKind.Variable})),o.forEach((e=>{y(e)})),d.startsWith("level")&&s.GscFile.getCachedFiles().forEach((e=>{e.levelVariablesDefinitions.forEach((e=>{y(e)}))})),d.startsWith("game")&&s.GscFile.getCachedFiles().forEach((e=>{e.gameVariablesDefinitions.forEach((e=>{y(e)}))})),p.forEach((t=>{e.push(new a.CompletionItem({label:t.name,detail:t.detail,description:l.getItemDescriptionFromTypes([...t.types])},t.kind))})),!1===r&&(u||m)&&(e.push(new a.CompletionItem({label:"true",description:"",detail:""},a.CompletionItemKind.Constant)),e.push(new a.CompletionItem({label:"false",description:"",detail:""},a.CompletionItemKind.Constant)),e.push(new a.CompletionItem({label:"undefined",description:"",detail:""},a.CompletionItemKind.Constant)),u&&(e.push(new a.CompletionItem({label:"if",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"else",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"for",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"while",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"switch",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"return",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"case",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"default",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"break",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"continue",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"thread",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"wait",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"waittill",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"waittillmatch",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"waittillframeend",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"notify",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"endon",description:"",detail:""},a.CompletionItemKind.Keyword)),e.push(new a.CompletionItem({label:"breakpoint",description:"",detail:""},a.CompletionItemKind.Keyword))))}static async createPathItems(e,t,n){const i=n.getPathStringBeforePosition(t);var o="",r=i.lastIndexOf("\\");if(-1!==r&&(o=(o=i.substring(0,r)).replace(/\\/g,"/")),""===o)return;const s=await a.workspace.findFiles(`**/${o}/{*.gsc,*/*.gsc}`),c=[];for(const e of s){var l=a.workspace.asRelativePath(e.path,!1);const t=l.indexOf(o);if(-1!==t){var p=l.substring(t+o.length+1);const e=p.indexOf("/");if(-1!==e){const t=p.substring(0,e);c.some((e=>e.label===t))||c.push({label:t,detail:"",kind:a.CompletionItemKind.Folder})}else{if("gsc"!==(/(?:\.([^.]+))?$/.exec(p)?.[1]??"").toLowerCase())continue;var d=p.substring(0,p.length-4);c.push({label:d,detail:".gsc",kind:a.CompletionItemKind.File})}}}c.forEach((t=>{e.push(new a.CompletionItem({label:t.label,description:"",detail:t.detail},t.kind))}))}static getItemDescriptionFromTypes(e){const t=[c.GscVariableDefinitionType.UnknownValue,c.GscVariableDefinitionType.UnknownValueFromFunction,c.GscVariableDefinitionType.UnknownValueFromVariable];var n=e.filter((e=>!t.includes(e))).map((e=>{return e===c.GscVariableDefinitionType.Unknown?"?":(t=c.GscVariableDefinitionType[e],t.replace(/([a-z])([A-Z])/g,"$1 $2")).toLowerCase();var t})).join(", ");return"?"===n&&(n=""),""!==n&&(n="("+n+")"),n}}t.GscCompletionItemProvider=l},367:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscDefinitionProvider=void 0;const a=r(n(398)),s=n(209),c=n(758);class l{static async activate(e){e.subscriptions.push(a.languages.registerDefinitionProvider("gsc",new l))}async provideDefinition(e,t,n){const i=await s.GscFile.getFile(e.uri);return await this.getFunctionDefinitionLocations(i,t,e.uri)}async getFunctionDefinitionLocations(e,t,n){const i=[];var o=e.root.findGroupOnLeftAtPosition(t);if(void 0===o||void 0===o.parent)return i;if(o.type===c.GroupType.FunctionName){const e=o.getFunctionNameAndPath();void 0!==e&&i.push(...await s.GscFile.getFunctionNameDefinitions(e.name,e.path,n))}return i}}t.GscDefinitionProvider=l},519:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscDiagnosticsCollection=void 0;const a=r(n(398)),s=n(209),c=n(758);t.GscDiagnosticsCollection=class{static diagnosticCollection;static async activate(e){this.diagnosticCollection=a.languages.createDiagnosticCollection("gsc"),e.subscriptions.push(this.diagnosticCollection),s.GscFile.onDidParseDocument((e=>this.updateDiagnostics(e))),s.GscFile.onDidDeleteDocument((e=>this.deleteDiagnostics(e)))}static async updateDiagnostics(e){var t=[],n=await s.GscFile.getFile(e);!function e(t,n,i){for(var o=0;o<n.length;o++){var r=n[o];!1===i(t,r)&&e(r,r.items,i)}}(n.root,n.root.items,((e,n)=>{if(c.GroupType.Statement,c.GroupType.FunctionCall,c.GroupType.FunctionCallWithThread,c.GroupType.FunctionCallWithObject,c.GroupType.FunctionCallWithObjectAndThread,c.GroupType.KeywordCall,c.GroupType.KeywordCallWithObject,n.type===c.GroupType.Unknown)return t.push(new a.Diagnostic(n.getRange(),"Unexpected token",a.DiagnosticSeverity.Error)),!0;if(!1===n.solved){if(n.type===c.GroupType.Statement&&e.type!==c.GroupType.TerminatedStatement)return t.push(new a.Diagnostic(n.getRange(),"Missing ;",a.DiagnosticSeverity.Error)),!0;if(n.typeEqualsToOneOf(c.GroupType.Expression,c.GroupType.ForExpression)&&0===n.items.length)return t.push(new a.Diagnostic(n.getRange(),"Empty expression",a.DiagnosticSeverity.Error)),!0;{const e=n.getFirstToken();if(void 0!==n.getSingleToken())return t.push(new a.Diagnostic(n.getRange(),"Unexpected token "+e.name,a.DiagnosticSeverity.Error)),!0;{const e=n.getRange();return t.push(new a.Diagnostic(e,"Unexpected tokens - "+n.toString(),a.DiagnosticSeverity.Error)),!0}}}return n.type===c.GroupType.ExtraTerminator&&(t.push(new a.Diagnostic(n.getRange(),"Terminator ; is not needed",a.DiagnosticSeverity.Information)),!0)})),this.diagnosticCollection.set(e,t)}static deleteDiagnostics(e){this.diagnosticCollection.delete(e)}static async createDiagnosticsForAll(){console.log("[DiagnosticsProvider]","Creating overall diagnostics..."),this.diagnosticCollection.clear();var e=s.GscFile.getCachedFiles();for(const[t,n]of e)this.updateDiagnostics(a.Uri.parse(t));console.log("[DiagnosticsProvider]","Creating overall diagnostics done")}}},209:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscFile=void 0;const a=r(n(398)),s=n(758);class c{static parsedFiles=new Map;static _onDidParseDocument=new a.EventEmitter;static _onDidDeleteDocument=new a.EventEmitter;static parseAllFiles=!1;static activate(e){this.parseAllFiles=!0,e.subscriptions.push(a.workspace.onDidCreateFiles(this.onCreateFiles)),e.subscriptions.push(a.workspace.onDidDeleteFiles(this.onDeleteFiles)),e.subscriptions.push(a.workspace.onDidRenameFiles(this.onRenameFiles)),e.subscriptions.push(a.commands.registerCommand("gsc.debugParsedGscFile",(async()=>{if(void 0===a.window.activeTextEditor)return;const e=await this.getFile(a.window.activeTextEditor.document.uri);this.debugParsedFile(e)}))),e.subscriptions.push(a.commands.registerCommand("gsc.debugParsedGscFileStructure",(async()=>{if(void 0===a.window.activeTextEditor)return;const e=await this.getFile(a.window.activeTextEditor.document.uri);console.log(s.GscFileParser.debugAsString(e.root.tokensAll,e.root,!0))})))}static get onDidParseDocument(){return this._onDidParseDocument.event}static get onDidDeleteDocument(){return this._onDidDeleteDocument.event}static onCreateFiles(e){for(const t of e.files)this.parseAndCacheFile(t),console.log(this,"Added "+a.workspace.asRelativePath(t)+" for parsing")}static onDeleteFiles(e){for(const t of e.files)this.removeCachedFile(t),console.log(this,"Removed "+a.workspace.asRelativePath(t)+" from parsing")}static onRenameFiles(e){for(const{oldUri:t,newUri:n}of e.files)this.removeCachedFile(t),this.parseAndCacheFile(n)}static async parseAndCacheAllFiles(){console.log("Parsing GSC files...");const e=(new Date).getTime();var t=await a.workspace.findFiles("**/*.gsc");for(const e of t)await this.parseAndCacheFile(e);let n=(new Date).getTime()-e;console.log("All GSC files parsed, files: "+this.parsedFiles.size+", time: "+n+"ms")}static async parseAndCacheFile(e){var t=await this.parseFile(e);return this.parsedFiles.set(e.toString(),t),this._onDidParseDocument.fire(e),this.parseAllFiles?(this.parseAllFiles=!1,await c.parseAndCacheAllFiles(),this.getFile(e)):t}static removeCachedFile(e){this.parsedFiles.delete(e.toString())}static async getFile(e){return this.parsedFiles.get(e.toString())??await this.parseAndCacheFile(e)}static getCachedFiles(){return this.parsedFiles}static async parseFile(e){console.log("Parsing "+a.workspace.asRelativePath(e));const t=a.workspace.textDocuments.find((t=>t.uri===e));var n;if(t)n=t.getText();else{const t=await a.workspace.fs.readFile(e);n=Buffer.from(t).toString("utf8")}return s.GscFileParser.parse(n)}static async getFunctionNameDefinitions(e,t,n){const i=[];if(""!==t){const n=t.replace(/\\/g,"/")+".gsc";c.getCachedFiles().forEach(((t,o)=>{o.endsWith(n)&&t.functions.forEach((t=>{t.name===e&&i.push(new a.Location(a.Uri.parse(o),new a.Position(t.range.start.line,t.range.start.character)))}))}))}else{const t=await c.getFile(n);t.functions.forEach((t=>{t.name===e&&i.push(new a.Location(n,new a.Position(t.range.start.line,t.range.start.character)))})),t.includes.forEach((t=>{const n=t.replace(/\\/g,"/")+".gsc";c.getCachedFiles().forEach(((t,o)=>{o.endsWith(n)&&t.functions.forEach((t=>{t.name===e&&i.push(new a.Location(a.Uri.parse(o),new a.Position(t.range.start.line,t.range.start.character)))}))}))}))}return i}static debugParsedFile(e){console.log("Functions:"),e.functions.forEach((e=>{console.log("  "+e.name+"("+e.parameters.map((e=>e.name)).join(", ")+")")})),console.log(""),console.log("Variable definitions:"),e.levelVariablesDefinitions.forEach((e=>{console.log("  "+e.variableReference.getTokensAsString().padEnd(30))})),e.gameVariablesDefinitions.forEach((e=>{console.log("  "+e.variableReference.getTokensAsString().padEnd(30))})),e.functions.forEach((e=>{e.localVariableDefinitions.forEach((t=>{console.log("  "+t.variableReference.getTokensAsString().padEnd(30),"  -> "+e.name+"()")}))}))}}t.GscFile=c},758:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscVariableDefinitionType=t.KeywordType=t.GscData=t.GscGroup=t.TokenType=t.GscFileParser=t.GroupType=void 0;const a=r(n(398));var s,c,l,p,d;!function(e){e[e.Root=0]="Root",e[e.Unknown=1]="Unknown",e[e.DeveloperBlock=2]="DeveloperBlock",e[e.DeveloperBlockInner=3]="DeveloperBlockInner",e[e.Scope=4]="Scope",e[e.Expression=5]="Expression",e[e.Array=6]="Array",e[e.Token=7]="Token",e[e.ReservedKeyword=8]="ReservedKeyword",e[e.Identifier=9]="Identifier",e[e.Constant=10]="Constant",e[e.Path=11]="Path",e[e.XAnim=12]="XAnim",e[e.Vector=13]="Vector",e[e.Value=14]="Value",e[e.Reference=15]="Reference",e[e.VariableName=16]="VariableName",e[e.StructureField=17]="StructureField",e[e.Statement=18]="Statement",e[e.TerminatedStatement=19]="TerminatedStatement",e[e.PreprocessorStatement=20]="PreprocessorStatement",e[e.TerminatedPreprocessorStatement=21]="TerminatedPreprocessorStatement",e[e.PreprocessorAnimtreeParametersExpression=22]="PreprocessorAnimtreeParametersExpression",e[e.Terminator=23]="Terminator",e[e.ExtraTerminator=24]="ExtraTerminator",e[e.FunctionDefinition=25]="FunctionDefinition",e[e.FunctionDeclaration=26]="FunctionDeclaration",e[e.FunctionCall=27]="FunctionCall",e[e.FunctionCallWithObject=28]="FunctionCallWithObject",e[e.FunctionCallWithThread=29]="FunctionCallWithThread",e[e.FunctionCallWithObjectAndThread=30]="FunctionCallWithObjectAndThread",e[e.FunctionPointer=31]="FunctionPointer",e[e.FunctionPointerExternal=32]="FunctionPointerExternal",e[e.FunctionDereference=33]="FunctionDereference",e[e.FunctionName=34]="FunctionName",e[e.FunctionParametersExpression=35]="FunctionParametersExpression",e[e.FunctionParameterName=36]="FunctionParameterName",e[e.FunctionScope=37]="FunctionScope",e[e.IfDeclaration=38]="IfDeclaration",e[e.IfScope=39]="IfScope",e[e.KeywordCall=40]="KeywordCall",e[e.KeywordCallWithObject=41]="KeywordCallWithObject",e[e.KeywordParametersExpression=42]="KeywordParametersExpression",e[e.ForDeclaration=43]="ForDeclaration",e[e.ForExpression=44]="ForExpression",e[e.ForScope=45]="ForScope",e[e.ForStatement=46]="ForStatement",e[e.WhileDeclaration=47]="WhileDeclaration",e[e.WhileScope=48]="WhileScope",e[e.SwitchDeclaration=49]="SwitchDeclaration",e[e.SwitchScope=50]="SwitchScope",e[e.CaseLabel=51]="CaseLabel",e[e.CaseScope=52]="CaseScope"}(s||(t.GroupType=s={}));class u{static scopeTypes=[s.FunctionScope,s.IfScope,s.ForScope,s.WhileScope,s.SwitchScope,s.CaseScope,s.Scope];static functionCallTypes=[s.FunctionCall,s.FunctionCallWithThread,s.FunctionCallWithObjectAndThread,s.FunctionCallWithObject];static valueTypes=[s.Constant,s.Reference,s.Value,s.Expression,s.Vector,...u.functionCallTypes,s.FunctionPointer,s.FunctionPointerExternal];static valueTypesWithIdentifier=[...u.valueTypes,s.Identifier];static parse(e){var t=this.tokenize(e),n=this.group(t);return this.analyze(n,e)}static tokenize(e){var t=[],n=l.Default,i=-1,o=0,r=0,s=0,p=void 0;const d=e.length;for(let u=0;u<=d;u++){const f=u<d?e[u]:"",m=u>0?e[u-1]:"",h=u<d-1?e[u+1]:"";if(u>0&&("\n"===e[u-1]?(o++,r=0):r++),s>0)s--;else{switch(n){case l.SingleLineComment:"\n"!==f&&""!==f||(p=e.substring(i+2,"\r"===m?u-1:u),n=l.Default);continue;case l.MultiLineComment:("*"===f&&"/"===h||""===f)&&(s+=1,p=e.substring(i+2,u),n=l.Default);continue;case l.PreprocessorName:if(!/^[a-zA-Z_0-9]$/.test(f)){g(c.Preprocessor,i,u),n=l.Default;break}continue;case l.String:case l.LocalizedString:case l.CvarString:"\\"===f&&"\\"===h||"\\"===f&&'"'===h?s+=1:'"'!==f&&""!==f||(g(new Map([[l.String,c.String],[l.LocalizedString,c.LocalizedString],[l.CvarString,c.CvarString]]).get(n),i,u+1),n=l.Default);continue;case l.Number:if("."===f)n=l.Float;else if(!/^[0-9]$/.test(f)){g(c.Number,i,u),n=l.Default;break}continue;case l.Float:if(!/^[0-9]$/.test(f)){g(c.Number,i,u),n=l.Default;break}continue;case l.Keyword:if(!/^[a-zA-Z_0-9]$/.test(f)){g(c.Keyword,i,u),n=l.Default;break}continue}if(""===f)break;switch(f){case"/":switch(h){case"/":n=l.SingleLineComment,i=u,s+=1;continue;case"*":n=l.MultiLineComment,i=u,s+=1;continue;case"#":g(c.DeveloperStart,u,u+2),s+=1;continue;case"=":g(c.Assignment2,u,u+2),s+=1;continue;default:g(c.Operator,u,u+1);continue}break;case"#":if("/"===h){g(c.DeveloperEnd,u,u+2),s+=1;continue}if(/^[a-zA-Z_]$/.test(h)){n=l.PreprocessorName,i=u;continue}if('"'===h){n=l.CvarString,i=u+1,s+=1;continue}g(c.Hashtag,u,u+1);continue;case'"':n=l.String,i=u;continue;case",":g(c.ParameterSeparator,u,u+1);continue;case"{":g(c.ScopeStart,u,u+1);continue;case"}":g(c.ScopeEnd,u,u+1);continue;case"(":g(c.ExpressionStart,u,u+1);continue;case")":g(c.ExpressionEnd,u,u+1);continue;case"[":"]"===h?(g(c.Array,u,u+2),s+=1):g(c.ArrayStart,u,u+1);continue;case"]":g(c.ArrayEnd,u,u+1);continue;case".":/^[0-9]$/.test(h)?(n=l.Float,i=u):g(c.Structure,u,u+1);continue;case"\\":g(c.PathSeparator,u,u+1);continue;case":":":"===h?(s+=1,g(c.FunctionPointer,u,u+2)):g(c.Case,u,u+1);continue;case"+":case"-":if("="===h){g(c.Assignment2,u,u+2),s=1;continue}f===h?(g(c.Assignment3,u,u+2),s=1):g(c.Operator,u,u+1);continue;case"*":case"%":case"^":if("="===h){g(c.Assignment2,u,u+2),s=1;continue}g(c.Operator,u,u+1);continue;case"~":g(c.OperatorLeft,u,u+1);continue;case"&":switch(h){case"=":g(c.Assignment2,u,u+2),s=1;continue;case"&":g(c.Operator,u,u+2),s=1;continue;case'"':n=l.LocalizedString,i=u+1,s+=1;continue;default:g(c.Operator,u,u+1);continue}case"|":switch(h){case"=":g(c.Assignment2,u,u+2),s=1;continue;case"|":g(c.Operator,u,u+2),s=1;continue;default:g(c.Operator,u,u+1);continue}case"<":switch(h){case"=":case"<":g(c.Operator,u,u+2),s=1;continue;default:g(c.Operator,u,u+1);continue}case">":switch(h){case"=":case">":g(c.Operator,u,u+2),s=1;continue;default:g(c.Operator,u,u+1);continue}case"!":if("="===h){g(c.Operator,u,u+2),s=1;continue}g(c.OperatorLeft,u,u+1);continue;case"=":if("="===h){g(c.Operator,u,u+2),s=1;continue}g(c.Assignment,u,u+1);continue;case";":g(c.Semicolon,u,u+1);continue;case" ":case"\t":case"\f":case"\n":case"\r":case"\v":continue;default:/^[a-zA-Z_]$/.test(f)?(n=l.Keyword,i=u):/^[0-9]$/.test(f)?(n=l.Number,i=u):g(c.Unknown,u,u+1)}}function g(n,i,s){var c=e.substring(i,s);const l={index:t.length,name:c,offset:i,range:new a.Range(o,r-(u-i),o,r-(u-s)),commentBefore:p,type:n};t.push(l),p=void 0}}return t}static group(e){function t(e,n,i=!1){for(var o=0;o<e.items.length;o++)t(e.items[o],n,i);(i||e.items.length>0)&&n(e)}function n(t,n,i,o,a,...c){if(0===c.length)throw new Error("No groups");if(0===n&&t.items.length===c.length&&i===s.Value&&t.type===s.Value)return t;const l=new f({parent:t,type:i,tokenIndexStart:c[0].tokenIndexStart,tokenIndexEnd:c[c.length-1].tokenIndexEnd},e);c.forEach((e=>{e.parent=l}));var p=o>0?o:void 0,d=a>0?-1*a:void 0;return l.items.push(...c.slice(p,d)),0===n&&t.items.length===c.length&&t.solved&&r(i,...u.valueTypes)&&t.typeEqualsToOneOf(...u.valueTypes)&&(l.solved=!0),t.items.splice(n,c.length,l),l}function i(t,n,i,o){var r=new f({parent:t,type:o,tokenIndexStart:t.items[n].tokenIndexStart,tokenIndexEnd:t.items[i].tokenIndexEnd},e);return t.items.splice(n,i-n+1,r),r}function o(e,t,i,o){const r=[];if(!(e.items.length<=1))for(var a=0;a<=e.items.length;a++){const l=a>=e.items.length?void 0:e.items[a].getSingleTokenType()??c.Unknown;if(l===t)r.push(a);else if(l===i){if(void 0!==(s=r.pop())){n(e,s,o,1,1,...e.items.slice(s,a+1)),a=s-1;continue}}else if(void 0===l)for(;;){var s;if(void 0===(s=r.pop()))break;s!==e.items.length-1&&n(e,s,o,1,0,...e.items.slice(s,e.items.length))}}}function r(e,...t){return void 0!==e&&t.includes(e)}function a(e,t,i){if(void 0!==i){const o=e.items.indexOf(t);if(-1===o)throw new Error("group was not found in parent group!");t.type!==s.Identifier||i!==s.Value&&i!==s.Reference?r(t.type,...u.valueTypes)&&t.type!==s.Expression&&i===s.Value||(t.type===s.Unknown||t.type===i||t.type===s.Identifier&&r(i,s.VariableName,s.FunctionName,s.StructureField,s.XAnim)||t.type===s.Expression&&r(i,s.FunctionParametersExpression,s.KeywordParametersExpression,s.ForExpression)||t.type===s.FunctionCall&&i===s.FunctionDeclaration||t.type===s.Scope&&r(i,s.FunctionScope,s.IfScope,s.ForScope,s.WhileScope,s.SwitchScope)||i===s.ForStatement&&r(t.type,s.TerminatedStatement,s.Terminator)?t.type=i:n(e,o,i,0,0,t).solved=!0):(n(e,o,s.Reference,0,0,t).solved=!0,t.type=s.VariableName)}t.solved=!0}function l(e,i,o,s,c){t(b,(t=>{if(t.type!==o)for(var l=0;l<t.items.length-1;l++){var p=t.items[l];if(!p.solved){var d=t.items[l+1];if(!d.solved){var u=d.getTypeOfUnknownToken();if(r(p.type,...e)&&u===i){const e=n(t,l,o,0,0,p,d);a(e,p,s),a(e,d,c),l--}}}}}))}function p(e,i,o,s,c,l,p){t(b,(t=>{for(var d=0;d<t.items.length-2;d++){var u=t.items[d];if(!u.solved){var f=t.items[d+1];if(!f.solved){var m=t.items[d+2];if(!m.solved){var h=f.getTypeOfUnknownToken();if(r(u.type,...e)&&h===i&&r(m.type,...o)){const e=n(t,d,s,0,0,u,f,m);a(e,u,c),a(e,f,l),a(e,m,p),d--}}}}}}))}function d(e,i,o,s,c,l=!1){t(b,(t=>{if(t.type!==o)for(var p=0;;p++){var d=p;if(l){if((d=t.items.length-2-p)<0)break}else if(d>t.items.length-2)break;var u=t.items[d];if(!u.solved){var f=t.items[d+1];if(!f.solved&&r(u.type,...e)&&r(f.type,...i)){const e=n(t,d,o,0,0,u,f);a(e,u,s),a(e,f,c),p--}}}}))}function m(e,i,o){t(b,(t=>{if(t.type!==i)for(var r=0;r<t.items.length;r++){var c=t.items[r];if(!c.solved){var l=c.getSingleToken()?.name;c.type===s.ReservedKeyword&&e.includes(l??"")&&(a(n(t,r,i,0,0,c),c,o),r--)}}}))}function h(e,i,o,r,c){t(b,(t=>{if(t.type!==o)for(var l=0;l<t.items.length-1;l++){var p=t.items[l];if(!p.solved){var d=t.items[l+1];if(!d.solved){var u=p.getSingleToken()?.name;if(p.type===s.ReservedKeyword&&e.includes(u??"")&&d.typeEqualsToOneOf(...i)){const e=n(t,l,o,0,0,p,d);a(e,p,r),a(e,d,c),l--}}}}}))}var g,y,v,k,S,w,T,b=new f({parent:void 0,type:s.Root,tokenIndexStart:e.length>0?0:-1,tokenIndexEnd:e.length-1},e),O=e.map(((t,n)=>new f({parent:b,type:s.Unknown,tokenIndexStart:n,tokenIndexEnd:n},e)));return b.items.push(...O),t(b,(e=>{o(e,c.DeveloperStart,c.DeveloperEnd,s.DeveloperBlock)})),t(b,(e=>{o(e,c.ScopeStart,c.ScopeEnd,s.Scope)})),t(b,(e=>{o(e,c.ExpressionStart,c.ExpressionEnd,s.Expression)})),t(b,(e=>{o(e,c.ArrayStart,c.ArrayEnd,s.Array)})),t(b,(e=>{!function(e){for(var t=0;t<e.items.length;t++){var n=e.items[t],i=n.getUnknownToken();if(void 0!==i)switch(i.type){case c.Number:case c.String:case c.LocalizedString:case c.CvarString:case c.Array:n.type=s.Constant;break;case c.Preprocessor:n.type=s.ReservedKeyword;break;case c.Keyword:const e=["return","if","else","for","while","switch","continue","break","case","default","thread","wait","waittillframeend","waittill","waittillmatch","endon","notify","breakpoint"];["true","false","undefined"].includes(i.name)?n.type=s.Constant:e.includes(i.name)?n.type=s.ReservedKeyword:n.type=s.Identifier}}}(e)})),t(b,(e=>{!function(e){if(0!==e.items.length&&e.type!==s.Value)for(var t=-1;t<=e.items.length-3;t++){const i=-1===t?void 0:e.items[t];if(void 0!==i&&!i.isUnsolvedGroupOfOneOfType(s.ReservedKeyword)&&!i.isUnsolvedSingleTokenOfOneOfType(c.Operator,c.ParameterSeparator,c.Assignment,c.Assignment2,c.OperatorLeft))continue;const o=e.items[t+1];if(!o.isUnknownUnsolvedSingleTokenOfOneOfType(c.Operator))continue;if(!["+","-"].includes(o.getSingleToken()?.name??""))continue;const r=e.items[t+2];r.isUnsolvedSingleTokenOfOneOfType(c.Number)&&(n(e,t+1,s.Value,0,0,o,r),o.type=s.Token,o.solved=!0,r.solved=!0)}}(e)})),t(b,(e=>{!function(e){var t=-1;if(0!==e.items.length&&e.type!==s.Path)for(var n=0;n<=e.items.length;n++){const o=e.items.at(n);if(!0===o?.solved)continue;const r=e.items.at(n+1);if(!0===r?.solved)continue;const a=r?.getTypeOfUnknownToken(),l=o?.typeEqualsToOneOf(s.Identifier,s.ReservedKeyword)??!1;!(-1===t&&o?.type===s.Identifier||-1!==t&&l)||a!==c.PathSeparator&&a!==c.FunctionPointer?t>-1&&(i(e,t,l?n:n-1,s.Path),n=t-1,t=-1):(-1===t&&(t=n),a===c.PathSeparator&&n++)}}(e)})),h(["#include"],[s.Path],s.PreprocessorStatement,s.ReservedKeyword,s.Path),h(["#using_animtree"],[s.Expression],s.PreprocessorStatement,s.ReservedKeyword,s.PreprocessorAnimtreeParametersExpression),m(["#animtree"],s.Constant,s.ReservedKeyword),t(b,(t=>{if(0!==t.items.length)for(var i=0;i<t.items.length-1;i++){const o=t.items[i];if(!o.isUnsolvedGroupOfOneOfType(s.Array)||1!==o.items.length)continue;const r=o.items[0];if(!r.isUnsolvedGroupOfOneOfType(s.Array)||0===r.items.length)continue;const c=t.items[i+1];if(!c.isUnsolvedGroupOfOneOfType(s.Expression))continue;1===r.items.length?a(r,r.items[0],s.Value):n(r,0,s.Value,0,0,...r.items).solved=!0;const l=new f({parent:o,type:s.ReservedKeyword,tokenIndexStart:o.tokenIndexStart,tokenIndexEnd:o.tokenIndexStart+1},e);l.solved=!0;const p=new f({parent:o,type:s.ReservedKeyword,tokenIndexStart:o.tokenIndexEnd-1,tokenIndexEnd:o.tokenIndexEnd},e);p.solved=!0,o.type=s.FunctionDereference,o.items.splice(0,1,l,...r.items,p);const d=n(t,i,s.FunctionCall,0,0,o,c);a(d,o,s.FunctionDereference),a(d,c,s.FunctionParametersExpression)}})),d([s.Identifier],[s.Expression],s.FunctionCall,s.FunctionName,s.FunctionParametersExpression),p([s.Path],c.FunctionPointer,[s.FunctionCall],s.FunctionCall,s.Path,s.Token,s.FunctionCall),h(["waittill","waittillmatch","notify","endon"],[s.Expression],s.KeywordCall,s.ReservedKeyword,s.KeywordParametersExpression),h(["if"],[s.Expression],s.IfDeclaration,s.ReservedKeyword,s.Expression),h(["for"],[s.Expression],s.ForDeclaration,s.ReservedKeyword,s.ForExpression),h(["while"],[s.Expression],s.WhileDeclaration,s.ReservedKeyword,s.Expression),h(["switch"],[s.Expression],s.SwitchDeclaration,s.ReservedKeyword,s.Expression),g=["case"],y=[s.Constant],v=c.Case,k=s.CaseLabel,S=s.ReservedKeyword,w=s.Constant,T=s.Token,t(b,(e=>{if(e.type!==k)for(var t=0;t<e.items.length-2;t++){var i=e.items[t];if(!i.isReservedKeywordOfName(...g))continue;var o=e.items[t+1];if(!o.isUnsolvedGroupOfOneOfType(...y))continue;var r=e.items[t+2];if(!r.isUnknownUnsolvedSingleTokenOfOneOfType(v))continue;const s=n(e,t,k,0,0,i,o,r);a(s,i,S),a(s,o,w),a(s,r,T),t--}})),function(e,i,o,r,s){t(b,(t=>{if(t.type!==o)for(var c=0;c<t.items.length-1;c++){var l=t.items[c];if(!l.isReservedKeywordOfName(...e))continue;var p=t.items[c+1];if(!p.isUnknownUnsolvedSingleTokenOfOneOfType(i))continue;const d=n(t,c,o,0,0,l,p);a(d,l,r),a(d,p,s),c--}}))}(["default"],c.Case,s.CaseLabel,s.ReservedKeyword,s.Token),function(e,i,o,s,c){t(b,(t=>{if(t.type!==o)for(var l=0;l<t.items.length-1;l++){var p=t.items[l];if(!p.solved){var d=t.items[l+1];if(!d.solved&&p.getTypeOfUnknownToken()===e&&r(d.type,...i)){const e=n(t,l,o,0,0,p,d);a(e,p,s),a(e,d,c),l--}}}}))}(c.FunctionPointer,[s.Identifier],s.FunctionPointer,s.Token,s.FunctionName),d([s.Path],[s.FunctionPointer],s.FunctionPointerExternal,s.Path,s.FunctionPointer),function(e){t(e,(e=>{if(0!==e.items.length)for(var t=0;t<e.items.length;t++){const o=e.items[t];if(o.solved)continue;const l=e.items.at(t+1);if(l?.solved)continue;const p=e.items.at(t+2),d=(e.items.at(t+3),l?.getTypeOfUnknownToken()),f=[s.Identifier,s.Reference,...u.functionCallTypes,s.FunctionDereference,s.FunctionPointer,s.FunctionPointerExternal];var i=o.isUnsolvedGroupOfOneOfType(...f);o.isUnsolvedGroupOfOneOfType(s.Expression)&&(i=o.unwrapType(s.Expression).typeEqualsToOneOf(...f));const m=l?.isReservedKeywordOfName("thread")??!1,h=p?.isUnsolvedGroupOfOneOfType(s.FunctionCall)??!1;if(i&&m&&h){const i=n(e,t,s.FunctionCallWithObjectAndThread,0,0,o,l,p);a(i,o,s.Reference),a(i,l,s.ReservedKeyword),a(i,p,s.FunctionCall),t--;continue}const g=l?.isUnsolvedGroupOfOneOfType(s.FunctionCall,s.KeywordCall)??!1;if(i&&g){const i=n(e,t,l.type===s.FunctionCall?s.FunctionCallWithObject:s.KeywordCallWithObject,0,0,o,l);a(i,o,s.Reference),a(i,l,void 0),t--;continue}if(o.isReservedKeywordOfName("thread")&&g){const i=n(e,t,s.FunctionCallWithThread,0,0,o,l);a(i,o,s.ReservedKeyword),a(i,l,s.FunctionCall),t--;continue}const y=r(o.type,s.Identifier,s.Reference,s.Expression,...u.functionCallTypes)||o.type===s.Constant&&o.getSingleTokenType()===c.String;if(void 0!==l&&void 0!==p&&y&&d===c.Structure&&p.type===s.Identifier){const i=n(e,t,s.Reference,0,0,o,l,p);a(i,o,s.Reference),a(i,l,s.Token),a(i,p,s.StructureField),t--}else if(void 0===l||!y||l.type!==s.Array||1===l.items.length&&l.items[0].type===s.Array);else{const i=n(e,t,s.Reference,0,0,o,l);a(i,o,s.Reference),a(i,l,s.Array),1===l.items.length?a(l,l.items[0],s.Value):n(l,0,s.Value,0,0,...l.items).solved=!0,t--}}}))}(b),function(e){t(e,(e=>{if(0!==e.items.length)for(var t=0;t<e.items.length;t++){const i=e.items[t];if(i.solved)continue;const o=e.items.at(t+1);if(o?.solved)continue;const r=e.items.at(t+2),l=e.items.at(t+3);if(i.getTypeOfUnknownToken()===c.OperatorLeft&&o?.isUnsolvedGroupOfOneOfType(...u.valueTypesWithIdentifier)){const r=n(e,t,s.Value,0,0,i,o);a(r,i,s.Token),a(r,o,s.Value),t--;continue}const p=r?.getTypeOfUnknownToken(),d=o?.getTypeOfUnknownToken();if(i.typeEqualsToOneOf(...u.valueTypesWithIdentifier)&&d===c.Operator){if(p===c.OperatorLeft&&l?.isUnsolvedGroupOfOneOfType(...u.valueTypesWithIdentifier)){const i=n(e,t+2,s.Value,0,0,r,l);a(i,r,s.Token),a(i,l,s.Value),t--;continue}if("%"===r?.getSingleToken()?.name&&l?.typeEqualsToOneOf(s.Identifier)){const i=n(e,t+2,s.Constant,0,0,r,l);a(i,r,s.Token),a(i,l,s.XAnim),t--;continue}if(r?.typeEqualsToOneOf(...u.valueTypesWithIdentifier)){const c=n(e,t,s.Value,0,0,i,o,r);a(c,i,s.Value),a(c,o,s.Token),a(c,r,s.Value),t--;continue}}if("%"===i.getSingleToken()?.name&&o?.typeEqualsToOneOf(s.Identifier)){const r=n(e,t,s.Constant,0,0,i,o);a(r,i,s.Token),a(r,o,s.XAnim),t--}}}))}(b),t(b,(e=>{!function(e){if(5===e.items.length&&e.type!==s.Vector&&e.type===s.Expression)for(var t=0;t<=e.items.length-5;t++){const n=e.items[t];if(!n.isUnsolvedGroupOfOneOfType(...u.valueTypesWithIdentifier))continue;const i=e.items[t+1];if(!i.isUnknownUnsolvedSingleTokenOfOneOfType(c.ParameterSeparator))continue;const o=e.items[t+2];if(!o.isUnsolvedGroupOfOneOfType(...u.valueTypesWithIdentifier))continue;const r=e.items[t+3];if(!r.isUnknownUnsolvedSingleTokenOfOneOfType(c.ParameterSeparator))continue;const l=e.items[t+4];l.isUnsolvedGroupOfOneOfType(...u.valueTypesWithIdentifier)&&(e.type=s.Vector,a(e,n,s.Value),a(e,i,s.Token),a(e,o,s.Value),a(e,r,s.Token),a(e,l,s.Value))}}(e)})),p([s.Identifier,s.Reference],c.Assignment,u.valueTypesWithIdentifier,s.Statement,s.Reference,s.Token,s.Value),p([s.Identifier,s.Reference],c.Assignment2,u.valueTypesWithIdentifier,s.Statement,s.Reference,s.Token,s.Value),l([s.Identifier,s.Reference],c.Assignment3,s.Statement,s.Reference,s.Token),h(["return"],u.valueTypesWithIdentifier,s.Statement,s.ReservedKeyword,s.Value),h(["wait"],u.valueTypesWithIdentifier,s.Statement,s.ReservedKeyword,s.Value),m(["return","break","continue","waittillframeend","breakpoint"],s.Statement,s.ReservedKeyword),l([s.Statement,...u.functionCallTypes,s.KeywordCall,s.KeywordCallWithObject],c.Semicolon,s.TerminatedStatement,s.Statement,s.Terminator),l([s.PreprocessorStatement],c.Semicolon,s.TerminatedPreprocessorStatement,s.PreprocessorStatement,s.Terminator),function(){const e=new Map([[s.IfDeclaration,s.IfScope],[s.ForDeclaration,s.ForScope],[s.WhileDeclaration,s.WhileScope],[s.SwitchDeclaration,s.SwitchScope]]);t(b,(t=>{if(t.type!==s.TerminatedStatement)for(var i=t.items.length-2;i>=0;i--){const o=t.items[i];if(!o.isUnsolvedGroupOfOneOfType(...e.keys()))continue;const r=t.items[i+1];if(!r.isUnsolvedGroupOfOneOfType(s.Scope,s.TerminatedStatement))continue;const c=t.items.at(i+2),l=t.items.at(i+3);if(o.type===s.IfDeclaration&&void 0!==c&&void 0!==l&&c.isReservedKeywordOfName("else")){const e=n(t,i,s.TerminatedStatement,0,0,o,r,c,l);a(e,o,s.IfDeclaration),a(e,r,s.IfScope),a(e,c,s.ReservedKeyword),a(e,l,s.IfScope)}else{const c=n(t,i,s.TerminatedStatement,0,0,o,r);a(c,o,void 0),a(c,r,e.get(o.type))}i++}}))}(),d([s.FunctionCall],[s.Scope],s.FunctionDefinition,s.FunctionDeclaration,s.FunctionScope),function e(t,i,o){t.type===s.FunctionScope&&(o=t);for(var l=0;l<t.items.length;l++)e(t.items[l],0,o);switch(t.type){case s.Unknown:t.isUnknownUnsolvedSingleTokenOfOneOfType(c.Semicolon)&&(t.type=s.Terminator,t.solved=!1);break;case s.DeveloperBlock:void 0!==o&&(t.type=s.DeveloperBlockInner);break;case s.ForExpression:if(t.items.length<2)return void(t.solved=!1);var p=0;for(l=0;l<t.items.length;l++){const e=t.items[l];if(e.solved=!1,0===p&&e.type===s.TerminatedStatement)a(t,e,s.ForStatement),e.solved=!0,p++;else if(0===p&&e.type===s.Terminator){const i=n(t,l,s.ForStatement,0,0,e);a(i,e,s.Terminator),i.solved=!0,p++}else if(1===p&&r(e.type,...u.valueTypesWithIdentifier)){const i=t.items.at(l+1);if(i?.type===s.Terminator){const o=n(t,l,s.ForStatement,0,0,e,i);e.solved=!0,a(o,i,s.Terminator),o.solved=!0}p++}else if(1===p&&e.type===s.Terminator){const i=n(t,l,s.ForStatement,0,0,e);a(i,e,s.Terminator),i.solved=!0,p++}else 2===p&&r(e.type,s.Statement)?a(t,e,s.ForStatement):p++}if(p>=3)return void(t.solved=!1);break;case s.SwitchScope:var d=-1;for(l=0;l<=t.items.length;l++){const e=l===t.items.length?void 0:t.items[l];if(-1!==d&&l>d+1&&(void 0===e||e.type===s.CaseLabel)){const e=t.items.slice(d+1,l);n(t,d+1,s.CaseScope,0,0,...e),l-=e.length,d=-1}void 0!==e&&e.type===s.CaseLabel&&(d=l)}for(l=0;l<t.items.length;l++){const e=t.items[l],n=t.items.at(l+1);e.type!==s.CaseLabel||n?.type!==s.CaseLabel?e.type!==s.CaseLabel||n?.type!==s.CaseScope?e.type!==s.CaseLabel||void 0!==n?e.solved=!1:e.solved=!0:(e.solved=!0,n.solved=!0,l++):e.solved=!0}break;case s.FunctionParametersExpression:for(l=0;l<t.items.length;l++){const e=t.items[l];l%2==0?void 0===o&&e.type===s.Identifier?(e.type=s.FunctionParameterName,e.solved=!0):r(e.type,...u.valueTypesWithIdentifier)&&(e.type===s.Identifier?a(t,e,s.Reference):e.solved=!0):l+1<t.items.length&&e.isUnknownUnsolvedSingleTokenOfOneOfType(c.ParameterSeparator)&&l%2!=0&&a(t,e,s.Token)}break;case s.KeywordParametersExpression:for(l=0;l<t.items.length;l++){const e=t.items[l];l%2==0?r(e.type,...u.valueTypesWithIdentifier)&&(e.type===s.Identifier?a(t,e,s.Reference):e.solved=!0):l+1<t.items.length&&e.isUnknownUnsolvedSingleTokenOfOneOfType(c.ParameterSeparator)&&l%2!=0&&a(t,e,s.Token)}break;case s.Expression:1===t.items.length&&t.items[0].type===s.Identifier&&a(t,t.items[0],s.Reference)}}(b),function e(t,n,i,o){for(var r=0;r<t.items.length;r++)e(t.items[r],t,t.type===s.FunctionScope?t:i,t.typeEqualsToOneOf(s.DeveloperBlock,s.DeveloperBlockInner)?t:o);switch(t.type){case s.Root:break;case s.TerminatedPreprocessorStatement:case s.FunctionDefinition:void 0!==n&&void 0===i&&n.typeEqualsToOneOf(s.Root,s.DeveloperBlock)&&(t.solved=!0);break;case s.DeveloperBlock:t.solved=void 0===i&&void 0===o;break;case s.DeveloperBlockInner:t.solved=void 0!==i&&void 0===o;break;case s.Scope:case s.TerminatedStatement:case s.Terminator:void 0!==n&&(n.typeEqualsToOneOf(...u.scopeTypes)&&n.type!==s.SwitchScope||n.type===s.DeveloperBlockInner)&&(t.type===s.Terminator&&!1===t.solved&&(t.type=s.ExtraTerminator),t.solved=!0);break;case s.Expression:0===t.items.length?t.solved=!1:(t.items[0].typeEqualsToOneOf(...u.valueTypes)&&t.items[0].type!==s.Expression&&(t.items[0].solved=!0),void 0!==i&&(t.solved=!0))}}(b),b}static analyze(e,t){var n=new m(e,t);return function e(t,i,o){for(var r=0;r<i.length;r++){var a=i[r],l=void 0;switch(a.type){case s.Path:t.type===s.PreprocessorStatement&&"#include"===t.getFirstToken().name&&n.includes.push(a.getTokensAsString());break;case s.FunctionDefinition:if(2===a.items.length&&a.items[0].type===s.FunctionDeclaration&&2===a.items[0].items.length&&a.items[0].items[0].type===s.FunctionName&&a.items[0].items[1].type===s.FunctionParametersExpression&&a.items[1].type===s.FunctionScope){const u=[];for(let f=0;f<a.items[0].items[1].items.length;f+=2){const m=a.items[0].items[1].items[f];m.type===s.FunctionParameterName&&u.push(m.getSingleToken())}l={name:a.items[0].items[0].getSingleToken().name,parameters:u,localVariableDefinitions:[],range:a.getRange(),scopeRange:a.items[1].getRange()},n.functions.push(l)}break;case s.Statement:if(void 0!==o&&a.items.length>=2&&a.items[0].type===s.Reference&&a.items[0].items.length>=1&&a.items[1].type===s.Token&&a.items[1].getFirstToken().type===c.Assignment){const h=a.items[0],g=h.getFirstToken();if("level"===g.name)y(n.levelVariablesDefinitions,h);else if("game"===g.name)y(n.gameVariablesDefinitions,h);else{const v=[];for(var p=h;p.items.at(1)?.type===s.Array;)v.unshift(p.items[0]),p=p.items[0];v.forEach((e=>y(o.localVariableDefinitions,e,d.Array))),y(o.localVariableDefinitions,h)}function y(e,t,n=d.Unknown){var i={variableReference:t,type:n};if(e.push(i),n===d.Unknown){const e=a.items.at(2);switch(e?.type){case s.Constant:const t=e.getFirstToken();switch(t.type){case c.Array:i.type=d.Array;break;case c.String:i.type=d.String;break;case c.LocalizedString:i.type=d.LocalizedString;break;case c.CvarString:i.type=d.CvarString;break;case c.Number:const n=t.name.includes(".");i.type=n?d.Float:d.Integer;break;case c.Keyword:switch(t.name){case"undefined":i.type=d.Undefined;break;case"true":case"false":i.type=d.Bool}break;case c.Preprocessor:"#animtree"===t.name&&(i.type=d.XAnim);break;case c.Operator:2===e.items.length&&e.items[1].type===s.XAnim&&(i.type=d.XAnim)}break;case s.FunctionPointer:case s.FunctionPointerExternal:i.type=d.Function;break;case s.Vector:i.type=d.Vector;break;case s.Value:i.type=d.UnknownValue;break;case s.Reference:i.type=d.UnknownValueFromVariable;break;case s.FunctionCall:const n=e.items.at(0)?.getFirstToken();if(void 0!==n)switch(n.name.toLowerCase()){case"spawnstruct":i.type=d.Structure;break;case"spawn":i.type=d.Entity;break;case"getdvar":i.type=d.String;break;default:i.type=d.UnknownValueFromFunction}}}}}}e(a,a.items,l??o)}}(e,e.items),n}static debugGroupAsObject(e,t){var n=""+s[t.type];t.tokenIndexEnd-t.tokenIndexStart<=2&&(n+="   ("+e.slice(t.tokenIndexStart,t.tokenIndexEnd+1).map((e=>c[e.type])).join(" ")+")");var i="("+t.tokenIndexStart+" - "+t.tokenIndexEnd+")  ->  "+e.slice(t.tokenIndexStart,t.tokenIndexEnd+1).map((e=>e.name)).join(" "),o={a03_unsolved:t.solved?void 0:"!!! UNSOLVED !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!",a04_deadCode:t.deadCode?"!!! DEADCODE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!":void 0,a01_type:n,a02_tokens:i,a06_itemsArray:[]};for(let n of t.items){const t=this.debugGroupAsObject(e,n);o.a06_itemsArray.push(t)}return o}static debugAsString(e,t,n,i=void 0){var o=[];function r(e){o.push(e)}return r(this.debugGroupAsString(e,void 0,t,0,n,i)),r("--------------------------------------------------------------\n"),o.join("")}static debugGroupAsString(e,t,n,i,o,r=void 0){var a=[],l=!1;function p(e){a.push(e)}function d(e){p(e+"\n")}var u=".  ".repeat((i+1)/2),f=".  ".repeat((i+1)/2)+". ";if(void 0!==r&&!1===l&&d(u+s[n.type]+" ("+n.tokenIndexStart+" - "+n.tokenIndexEnd+"):"),void 0!==r&&n!==r){for(let t of n.items)p(this.debugGroupAsString(e,n,t,i+2,o,r));return a.join("")}if(n===r&&(l=!0),d(u+"{"),n.solved||d(f+"!!! UNSOLVED !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),n.deadCode&&d(f+"!!! DEADCODE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),n.parent!==t&&d(f+"!!! PARENT MISMATCH !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),p(f+"type: "+s[n.type]),n.tokenIndexEnd-n.tokenIndexStart<=3&&p("   ("+e.slice(n.tokenIndexStart,n.tokenIndexEnd+1).map((e=>c[e.type])).join(" ")+")"),d(""),d(f+"tokens: ("+n.tokenIndexStart+" - "+n.tokenIndexEnd+")  ->  "+e.slice(n.tokenIndexStart,n.tokenIndexEnd+1).map((e=>e.name)).join(" ")),n.tokenIndexStart>=0&&n.tokenIndexEnd>=0&&d(f+"range: (L:"+e[n.tokenIndexStart].range.start.line+" C:"+e[n.tokenIndexStart].range.start.character+" - L:"+e[n.tokenIndexEnd].range.end.line+" C:"+e[n.tokenIndexEnd].range.end.character+")"),n.items.length>0&&(d(f+"items: ("+n.items.length+")"),o)){d(f+"[");for(let t of n.items)p(this.debugGroupAsString(e,n,t,i+2,o,r));d(f+"]")}return d(u+"},"),a.join("")}static generateTestChecks(e,t){var n=[];return function e(t,i){n.push(i),n.push(", "),n.push("GroupType."),n.push(s[t.type]),n.push(", "),n.push(t.tokenIndexStart.toString()),n.push(", "),n.push(t.tokenIndexEnd.toString()),n.push(", "),n.push(t.solved?"true":"false"),n.push(", "),n.push(t.items.length.toString()),n.push(");\n");for(var o=0;o<t.items.length;o++)e(t.items[o],i+".items["+o+"]")}(t,"checkGroup2(rootGroup, rootGroup"),n.join("")}}t.GscFileParser=u,function(e){e[e.Unknown=0]="Unknown",e[e.DeveloperStart=1]="DeveloperStart",e[e.DeveloperEnd=2]="DeveloperEnd",e[e.Preprocessor=3]="Preprocessor",e[e.ScopeStart=4]="ScopeStart",e[e.ScopeEnd=5]="ScopeEnd",e[e.ExpressionStart=6]="ExpressionStart",e[e.ExpressionEnd=7]="ExpressionEnd",e[e.ArrayStart=8]="ArrayStart",e[e.ArrayEnd=9]="ArrayEnd",e[e.Structure=10]="Structure",e[e.PathSeparator=11]="PathSeparator",e[e.FunctionPointer=12]="FunctionPointer",e[e.ParameterSeparator=13]="ParameterSeparator",e[e.Case=14]="Case",e[e.Assignment=15]="Assignment",e[e.Assignment2=16]="Assignment2",e[e.Assignment3=17]="Assignment3",e[e.Operator=18]="Operator",e[e.OperatorLeft=19]="OperatorLeft",e[e.Semicolon=20]="Semicolon",e[e.String=21]="String",e[e.LocalizedString=22]="LocalizedString",e[e.CvarString=23]="CvarString",e[e.Number=24]="Number",e[e.Array=25]="Array",e[e.Keyword=26]="Keyword",e[e.Hashtag=27]="Hashtag"}(c||(t.TokenType=c={})),function(e){e[e.Default=0]="Default",e[e.SingleLineComment=1]="SingleLineComment",e[e.MultiLineComment=2]="MultiLineComment",e[e.PreprocessorName=3]="PreprocessorName",e[e.String=4]="String",e[e.LocalizedString=5]="LocalizedString",e[e.CvarString=6]="CvarString",e[e.Number=7]="Number",e[e.Float=8]="Float",e[e.Keyword=9]="Keyword"}(l||(l={}));class f{parent;items=[];type;tokenIndexStart;tokenIndexEnd;solved=!1;deadCode=!1;tokensAll;constructor({parent:e,type:t,tokenIndexStart:n,tokenIndexEnd:i},o){this.parent=e,this.type=t,this.tokenIndexStart=n,this.tokenIndexEnd=i,this.tokensAll=o}getSingleToken(){return this.tokenIndexStart===this.tokenIndexEnd&&0===this.items.length?this.tokensAll[this.tokenIndexStart]:void 0}getUnknownToken(){return this.tokenIndexStart===this.tokenIndexEnd&&0===this.items.length&&this.type===s.Unknown?this.tokensAll[this.tokenIndexStart]:void 0}getFirstToken(){return this.tokensAll[this.tokenIndexStart]}getTypeOfUnknownToken(){return this.getUnknownToken()?.type}getSingleTokenType(){return this.getSingleToken()?.type}isUnknownUnsolvedSingleTokenOfOneOfType(...e){return this.tokenIndexStart===this.tokenIndexEnd&&0===this.items.length&&this.type===s.Unknown&&!1===this.solved&&e.includes(this.tokensAll[this.tokenIndexStart].type)}isUnsolvedSingleTokenOfOneOfType(...e){return this.tokenIndexStart===this.tokenIndexEnd&&0===this.items.length&&!1===this.solved&&e.includes(this.tokensAll[this.tokenIndexStart].type)}isUnsolvedGroupOfOneOfType(...e){return!1===this.solved&&e.includes(this.type)}isReservedKeywordOfName(...e){if(this.type===s.ReservedKeyword){const t=this.getSingleToken()?.name;return void 0!==t&&e.includes(t)}return!1}typeEqualsToOneOf(...e){return void 0!==this.type&&e.includes(this.type)}getRange(){return new a.Range(this.tokensAll[this.tokenIndexStart].range.start,this.tokensAll[this.tokenIndexEnd].range.end)}getIndex(){if(void 0!==this.parent){var e=this.parent.items.indexOf(this);if(-1!==e)return e}}findLastParentInSequenceOfType(e){for(var t=this;t.parent?.type===e;)t=t.parent;return t.type===e?t:void 0}findParentOfType(...e){for(var t=this;void 0!==t?.parent&&!e.includes(t?.parent.type);)t=t.parent;return void 0!==t?.parent&&e.includes(t?.parent.type)?t?.parent:void 0}unwrapType(e){for(var t=this;t.type===e&&1===t.items.length;)t=t.items[0];return t}findGroupOnLeftAtPosition(e,t=void 0,n=0){const i=this.items.map((e=>({range:e.getRange(),group:e,isTrueGroup:!0}))),o=this.items.at(-1);if(void 0!==o)for(var r=o.tokenIndexEnd+1;r<=this.tokenIndexEnd;r++)i.push({range:this.tokensAll[r].range,group:this,isTrueGroup:!1});for(var a of i){const i=a.range;if(i.end.isBeforeOrEqual(e)&&(void 0===t||i.start.isAfterOrEqual(t.getRange().start))&&(t=a.group),(e.line===i.start.line&&e.character>i.start.character||e.line>i.start.line)&&(e.line===i.end.line&&e.character<=i.end.character||e.line<i.end.line)&&a.isTrueGroup){t=a.group,t=a.group.findGroupOnLeftAtPosition(e,t,n+1);break}}return void 0!==t&&0===n&&(t=t.findGroupOnLeftAtPosition(e,t,n+1)),t}getVariableStringBeforePosition(e){const t=this,n=t.tokensAll;var i="",o=t;t.typeEqualsToOneOf(...u.scopeTypes)||(o=t.findParentOfType(...u.scopeTypes,s.Array)??t);for(var r=t.tokenIndexEnd;r>=0;r--){const s=n[r];if(!s.range.end.isAfter(e)&&(![c.Keyword,c.Structure,c.ArrayStart,c.ArrayEnd,c.Array,c.Number,c.String,c.LocalizedString,c.CvarString].includes(s.type)||r===o.tokenIndexStart)){for(r+=1;r<=t.tokenIndexEnd;r++){const t=n[r];var a="";if(t.range.contains(e)){const n=t.name.length-(t.range.end.character-e.character);a=t.name.substring(0,n)}else t.range.start.isBefore(e)&&(a=t.name);if(""===i&&!/^[a-zA-Z_]/.test(a[0]))break;i+=a}break}}return i}getVariableParts(){const e=[];return function t(n){for(var i=0;i<n.items.length;i++){const o=n.items[i],r=e.at(-1);switch(o.type){case s.VariableName:e.push({text:o.getFirstToken().name,implicitType:d.Unknown,kind:a.CompletionItemKind.Variable});break;case s.Array:if(void 0!==r&&(r.implicitType=d.Array),o.items.at(0)?.type!==s.Constant){e.push({text:"[]",implicitType:d.Unknown,kind:a.CompletionItemKind.Variable});continue}e.push({text:"["+o.items[0].getFirstToken().name+"]",implicitType:d.Unknown,kind:a.CompletionItemKind.Variable});break;case s.Token:void 0!==r&&(r.implicitType=d.Structure);const c=n.items.at(i+1);if(c?.type===s.StructureField){e.push({text:o.getFirstToken().name+c.getFirstToken().name,implicitType:d.Unknown,kind:a.CompletionItemKind.Field}),i++;continue}e.push({text:o.getFirstToken().name,implicitType:d.Unknown,kind:a.CompletionItemKind.Field});break;case s.Reference:if(!1===t(o))return!1}}return!0}(this),e}getPathStringBeforePosition(e){const t=this;if(t.type!==s.Path)return"";const n=t.tokensAll;for(var i="",o=t.tokenIndexStart;o<=t.tokenIndexEnd;o++){const t=n[o];if(t.range.contains(e)){const n=t.name.length-(t.range.end.character-e.character);i+=t.name.substring(0,n)}else{if(!t.range.start.isBefore(e))break;i+=t.name}}return i}getFunctionNameAndPath(){const e=this;if(e.type!==s.FunctionName)return;const t=e.getFirstToken().name;var n="";return(e.parent?.type===s.FunctionCall&&e.parent?.parent?.type===s.FunctionCall||e.parent?.type===s.FunctionPointer&&e.parent?.parent?.type===s.FunctionPointerExternal)&&e.parent.parent.items[0].type===s.Path&&(n=e.parent.parent.items[0].getTokensAsString()),{name:t,path:n}}getTokensBeforePosition(e){return this.tokensAll.slice(this.tokenIndexStart,this.tokenIndexEnd+1).filter((t=>e.isAfterOrEqual(t.range.end)))}getTokens(){return this.tokensAll.slice(this.tokenIndexStart,this.tokenIndexEnd+1)}getTokensAsString(){return this.tokensAll.slice(this.tokenIndexStart,this.tokenIndexEnd+1).map((e=>e.name)).join("")}printTokens(){return this.tokensAll.slice(this.tokenIndexStart,this.tokenIndexEnd+1).map((e=>e.name)).join(" ")}toString=()=>`{type: ${s[this.type]}, tokens: ${this.tokenIndexStart} - ${this.tokenIndexEnd}, ${this.tokensAll.slice(this.tokenIndexStart,this.tokenIndexEnd+1).map((e=>e.name)).join(" ")}}`}t.GscGroup=f;class m{root;functions=[];levelVariablesDefinitions=[];gameVariablesDefinitions=[];includes=[];content;constructor(e,t){this.root=e,this.content=t}}t.GscData=m,function(e){e[e.Keyword=0]="Keyword",e[e.Variable=1]="Variable",e[e.Constant=2]="Constant",e[e.Function=3]="Function",e[e.Parameter=4]="Parameter",e[e.Path=5]="Path"}(p||(t.KeywordType=p={})),function(e){e[e.Unknown=0]="Unknown",e[e.Undefined=1]="Undefined",e[e.Object=2]="Object",e[e.String=3]="String",e[e.LocalizedString=4]="LocalizedString",e[e.CvarString=5]="CvarString",e[e.Vector=6]="Vector",e[e.Integer=7]="Integer",e[e.Float=8]="Float",e[e.Structure=9]="Structure",e[e.Array=10]="Array",e[e.Function=11]="Function",e[e.Entity=12]="Entity",e[e.Bool=13]="Bool",e[e.XAnim=14]="XAnim",e[e.UnknownValue=15]="UnknownValue",e[e.UnknownValueFromVariable=16]="UnknownValueFromVariable",e[e.UnknownValueFromFunction=17]="UnknownValueFromFunction"}(d||(t.GscVariableDefinitionType=d={}))},684:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscHoverProvider=void 0;const a=r(n(398)),s=n(209),c=n(758);class l{static async activate(e){e.subscriptions.push(a.languages.registerHoverProvider("gsc",new l))}async provideHover(e,t,n){const i=await s.GscFile.getFile(e.uri);return await this.getHover(i,t,e.uri)}async getHover(e,t,n){let i=new a.MarkdownString;var o=e.root.findGroupOnLeftAtPosition(t);if(o?.type===c.GroupType.FunctionName){const e=o.getFunctionNameAndPath();void 0!==e&&(await s.GscFile.getFunctionNameDefinitions(e.name,e.path,n)).forEach((async t=>{const n=(await s.GscFile.getFile(t.uri)).functions.find((t=>t.name===e.name));if(void 0===n)return;const o=n.parameters.map((e=>e.name)).join(", ");i.appendText(a.workspace.asRelativePath(t.uri)),i.appendMarkdown("\n\n"),i.appendMarkdown(`**${e.name}**(${o})`)}))}return new a.Hover(i)}}t.GscHoverProvider=l},796:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GscSemanticTokensProvider=void 0;const a=r(n(398)),s=n(209),c=n(758);class l{static tokenTypes=["namespace","class","keyword","function","parameter","variable","property","enumMember","event","method","macro","label","string"];static tokenModifiers=["declaration","static","readonly","modification","defaultLibrary"];static legend=new a.SemanticTokensLegend(this.tokenTypes,this.tokenModifiers);static async activate(e){e.subscriptions.push(a.languages.registerDocumentSemanticTokensProvider({language:"gsc"},new l,l.legend))}async provideDocumentSemanticTokens(e){const t=new a.SemanticTokensBuilder(l.legend);var n=await s.GscFile.parseAndCacheFile(e.uri);return function e(t,n,i){for(var o=0;o<n.length;o++){var r=n[o];e(r,r.items,i),i(t,r)}}(n.root,n.root.items,((e,n)=>{if(n.type===c.GroupType.Path)t.push(n.getRange(),"namespace",["declaration"]);else if(n.type===c.GroupType.FunctionName)t.push(n.getRange(),"function",["declaration"]);else if(n.type===c.GroupType.VariableName){var i=n.getSingleToken();void 0===i||"level"!==i.name&&"game"!==i.name&&"self"!==i.name?t.push(n.getRange(),"variable",["declaration"]):t.push(n.getRange(),"variable",["readonly"])}else n.type===c.GroupType.StructureField?t.push(n.getRange(),"variable",["declaration"]):n.type===c.GroupType.ReservedKeyword&&t.push(n.getRange(),"keyword",["declaration"])})),t.build()}}t.GscSemanticTokensProvider=l},398:e=>{e.exports=require("vscode")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}var i={};(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=n(687);e.activate=function(e){console.log(" "),console.log("- GSC extension ----------------------------------------------------------------------------"),console.log(" "),t.Gsc.activate(e)},e.deactivate=function(){}})(),module.exports=i})();